画图介绍了
int a = 10;到底做了什么
提了cpu，提了地址总线
介绍了为什么32位操作系统的内存最大是4个G，由地址总线的宽度决定，即2^32bit
讲了分页机制
CPU发送一个地址，然后CPU去分页里去找实际的地址，然后分页会给你一个内存的位置，然后你就可以访问对应的内存空间
CPU发送的地址会被系统登记，然后操作系统会分配相应的物理地址到分页，与CPU发送的虚拟地址一一对应
CPU发出的地址是虚拟的，叫做虚拟地址
分页所指向的内存的地址，是物理地址

然后老师画图介绍了./a.out运行的在内存中的运行位置
写代码展示了main函数的虚拟地址
![[Pasted image 20231106154624.png]]
这张图介绍了如何输出main函数的地址
并且，这里输出的地址也是虚拟地址

分页也保存到内存条上，然后操作系统可以通过分页访问实际内存的地址
我们一般没法访问实际的内存地址
CPU得到的地址是虚拟地址

然后介绍了虚拟地址的各种区域
常量区，未初始化的全局变量或静态变量，已初始化的全局变量或静态变量，代码区，未使用区域，内核空间（与进程间通信有关），栈空间（由操作系统控制分配），堆空间（由用户自行确定使用方式，自行确定占用与使用方式），动态库
![[Pasted image 20231106160608.png]]

然后介绍了什么是栈
然后画图介绍了什么是栈
先进后出
然后编写程序来演示栈
![[Pasted image 20231106162745.png]]
在函数内部定义的变量是局部变量
介绍了左边代码在内存空间中的调用与释放过程，符合栈的调用释放过程，栈先使用高位地址的空间
![[Pasted image 20231106163410.png]]

然后介绍了堆的操作函数

![[Pasted image 20231106164042.png]]

![[Pasted image 20231106164336.png]]
![[Pasted image 20231106164531.png]]
然后介绍了堆没有初始化操作带来的影响，会带来垃圾值。
![[Pasted image 20231106164544.png]]
![[Pasted image 20231106164827.png]]
然后画图介绍了malloc时，如果取用的字节数不是强转类型的整数倍，就会导致一些潜在的问题。
![[Pasted image 20231106165528.png]]
使用malloc获取到的堆空间数据的首地址是在内存空间中的低位。

老师介绍了查看栈空间大小的方法
![[Pasted image 20231106170059.png]]
然后老师百度了：Linux 32位操作系统，堆空间有多大

然后继续跑回来讲malloc
写了一个代码来继续介绍了malloc
![[Pasted image 20231107103953.png]]
然后介绍了使用vim打开函数手册的方法
光标放到函数上，然后按下shift+k即可调用man命令查找函数的描述
这里介绍了函数调用malloc成功会返回堆空间的首地址
然后介绍了与malloc等堆内存分配相关的错误码errno
打印errno的方法
需要使用man命令查看perror函数，然后根据手册来编写errno的输出
![[Pasted image 20231107104512.png]]
![[Pasted image 20231107104500.png]]
![[Pasted image 20231107104425.png]]
老师介绍了perror函数
man perror 3
![[Pasted image 20231107105104.png]]
![[Pasted image 20231107105228.png]]

perror的调用方法
![[Pasted image 20231107105350.png]]

然后介绍了calloc
![[Pasted image 20231107105826.png]]
![[Pasted image 20231107110111.png]]
![[Pasted image 20231107110214.png]]
然后编写代码进行演示
![[Pasted image 20231107110406.png]]

然后介绍了free
![[Pasted image 20231107110509.png]]
![[Pasted image 20231107110527.png]]
![[Pasted image 20231107110538.png]]
\*ptr必须指向以上分配函数分配出的空间的首地址

![[Pasted image 20231107110947.png]]
这里free之后，就不要使用了，不然就会报错

然后老师介绍了C语言对程序员素质要求非常高
举了例子，讲了C语言什么时候发布的，导致它太古老了，有些地方不严谨。因为这里的执行出现了问题，在free完之后，依旧可以对空间进行赋值，因此就说编写C语言需要程序员的素质很高。如果素质不高，可能会导致一个Bug需要找一两个月。

